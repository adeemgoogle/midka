
Cannot use '&MockHTTPClient{}' (type *MockHTTPClient) as the type *http.Client

type httpClient interface {
	Do(req *httpclient.Request) (*httpclient.Response, error)
}
type MockHTTPClient struct{
	httpClient
}

func (c *MockHTTPClient) Do(req *httpclient.Request) (*httpclient.Response, error) {
	if req.Url == "welcome" {
		return &httpclient.Response{
			Code: http.StatusOK,
			Body: []byte(``),
		}, nil
	} else if req.Url == "mock_unauthorized_url" {
		return &httpclient.Response{
			Code: http.StatusUnauthorized,
			Body: []byte(``),
		}, nil
	} else if req.Url == "mock_status_forbidden" {
		return &httpclient.Response{
			Code: http.StatusForbidden,
			Body: []byte(``),
		}, nil
	} else {
		return nil, errors.New("mocked request error")
	}
}

func TestGetStudentsMarksDatasetByDay(t *testing.T) {
	s := &KundelikService{cli: &MockHTTPClient{}}
	data := time.Now()
	resp, err := s.getStudentsMarksDatasetByDay(data)
	assert.NoError(t, err)
	assert.NotNil(t, resp)
}
