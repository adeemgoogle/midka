 Сообщение: 
System.ArgumentNullException : Value cannot be null. (Parameter 'configuration')

  Трассировка стека: 
ThrowHelper.Throw(String paramName)
ConfigurationBinder.Get[T](IConfiguration configuration, Action`1 configureOptions)
Server.ctor(IConfiguration Configuration) строка 23
ServerTests.ReadNegdeals_AlreadyReadingNegdealsTable_ReturnsErrorMessage() строка 46
RuntimeMethodHandle.InvokeMethod(Object target, Void** arguments, Signature sig, Boolean isConstructor)
MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)

что добавить точнее откуда достать environment ?
 private Mock<IConfiguration> MockConfiguration()
 {
     var configuration = new Mock<IConfiguration>();
     configuration.Setup(c => c["Asts:ServerAddress"]).Returns("example.server");
     configuration.Setup(c => c["Asts:ServerName"]).Returns("example_server");
     configuration.Setup(c => c["Asts:Service"]).Returns("example_service");
     configuration.Setup(c => c["Asts:UserId"]).Returns("example_user");
     configuration.Setup(c => c["Asts:Password"]).Returns("example_password");
     configuration.Setup(c => c["Asts:Interface"]).Returns("example_interface");
     configuration.Setup(c => c["Asts:Language"]).Returns("example_language");
     configuration.Setup(c => c["Asts:Logging"]).Returns("example_logging");
     configuration.Setup(c => c["Asts:LogFolder"]).Returns("example_log_folder");
     configuration.Setup(c => c["Kafka:Topic"]).Returns("example_securities_topic");
     configuration.Setup(c => c["Kafka:TopicDaily"]).Returns("example_daily_topic");
     return configuration;
 }
