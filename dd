var host = new WebHostBuilder()

        .UseUrls("http://localhost:5000")
        .ConfigureServices(service =>
        {
            service.AddHealthChecks();
            
        })
        .UseStartup<Startup>()
        .Build();

host.Run();

как в host добавить
{
    [ApiController]
    [Route("[healthz]")]
    public class HealthzController : ControllerBase
    {
        private readonly ILogger<HealthzController> _logger;

        public HealthzController(ILogger<HealthzController> logger)
        {
            _logger = logger;
        }

        [HttpGet(Name = "healthz")]
        public IActionResult GetHealthz()
        {
            return new OkObjectResult("OK");
        }
    }
